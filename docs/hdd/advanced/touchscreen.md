# 触摸屏配置

!!! quote "引用"

    由于我没有触摸屏这里的大部分内容引用的spice2x wiki

!!! danger "兼容性"

    触摸屏需要使用HDMI/DisplayPort（包括Type-C）接口连接，以下方式连接的显示器无法使用：

    - 无线显示器
    - 平板串流（SpaceDesk，Moonlight）

    AMD用户也可能会在启用副屏幕的情况下出现各种问题（白屏，崩溃，图形错误）

!!! warning "笔记本须知"

    在采用集成GPU+独立GPU的笔记本上也可能会出现问题（白屏，崩溃，图形错误），你需要切换至独显直连模式，才可能解决
    ，需要使用硬件切换的独显直连（BIOS或者控制中心切换并重启的模式）而非软件切换（NVIDIA控制面板切换为Optimus模式）。两者的区别是Optimus会创建一个虚拟显示器并将画面输出至那个上面，硬件切换通常是直接将独立GPU作为主输出源

    如果你的笔记本不支持切换独显直连，可以尝试外接显示器并禁用内置显示屏，现在大部分笔记本带的HDMI与部分Type-C DP都是从独立GPU拓展的，在禁用内置显示屏的情况下可以视为独显直连，但此方法依笔记本OEM的设定为准

## 我该使用什么规格的屏幕

!!! info ""

    对于Valkyrie Mode，`1920x1080@60p`是其使用的分辨率与刷新率，你需要将副屏幕设置成此规格它才可能以全屏幕的方式显示

    通常情况下你在闲鱼随便买的那种便携触摸显示屏都是可以的还便宜，但是相对的这种屏幕在底层上不会有过多的设计，可能会导致错误的触摸API，错误的刷新率

## 如何配置

!!! info ""

    1. 连接你的触摸屏，并确保你的触摸与显示是正常的
    2. 打开`spicecfg-Shortcuts-Tablet PC Settings`，点击`设置笔与触摸显示器`的配置
    3. 根据说明配置主屏幕，让Windows认为你的主屏幕才是触摸屏

    同时如果你希望禁用触摸屏幕的触摸指示器，你可以在`Windows设置-无障碍-鼠标指针与触摸`，关闭触摸指示器
    
    在全屏下Spice会自动禁用

!!! tips "触控"

    通常情况下，触摸输入应该与对应的屏幕绑定，但游戏自己的设计是希望你的触控在主屏幕上而非副屏幕上，并非Bug


## 故障排除

!!! info ""

    - 如果你的触摸异常，例如：延迟触控、重复触控、无法使用多点触控、无法识别点击、无法识别滑动等，你可以在spicecfg-Advanced，勾选`SDVX Native Touch Handling`来启用原生输入，但缺点是鼠标点击将不会被识别为模拟触控

        - 同时如果你启用了原生输入，当你的主显示器设置为“纵向（翻转）”时，触摸屏的触摸坐标可能会颠倒，你需要将触摸屏设置成“横向（翻转）”并将触摸屏反转放置以解决这个问题，或者不将主显示器设置为“纵向（翻转）”而是“纵向”，这是游戏设计而非Bug

    - 如果你的屏幕无法显示内容，例如：黑屏、内容不刷新等，你可以在spicecfg-Advanced里，勾选`SDVX Subscreen Force Redraw`启用强制渲染

    - 如果你的游戏无法启动，请确保你只连接了两个显示器，并断开其他所有显示器，例如：VR头显，虚拟显示器等

    - 如果你的显示器没有`1920x1080@60p`的选项，你可以使用[CRU](https://www.monitortests.com/forum/Thread-Custom-Resolution-Utility-CRU)来创建自定义分辨率与刷新率选项，或者使用NVIDIA控制面板自带的自定义创建

    - 如果你游戏启动时限制了60FPS，请检查你的 `NVIDIA控制面板-管理3D设置-垂直同步` 选项是否启用为“使用3D应用控制的”而非“开”

